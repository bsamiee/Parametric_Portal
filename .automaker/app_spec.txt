<project_specification>
  <project_name>React Aria Components Wrapper Library</project_name>

  <overview>
    A comprehensive React component library built as a wrapper around Adobe React Aria Components within an Nx monorepo architecture. The library provides accessible, production-ready UI components with built-in gesture support, async-aware rendering, and screen reader announcements. All components are styled with Tailwind CSS v4 and follow strict TypeScript patterns for type safety. The project focuses on delivering enterprise-grade accessibility, consistent design patterns, and developer-friendly APIs through compound components and composable hooks.
  </overview>

  <technology_stack>
    <technology>React 19 canary (19.3.0-canary)</technology>
    <technology>React Aria Components 1.14</technology>
    <technology>TypeScript 6.0-dev (strict mode)</technology>
    <technology>Tailwind CSS v4 (4.1.18)</technology>
    <technology>Vite 7.3</technology>
    <technology>Effect 3.19 for functional composition</technology>
    <technology>Nx Monorepo</technology>
    <technology>CSS Variables for theming</technology>
    <technology>Biome for linting and formatting</technology>
    <technology>LightningCSS for transforms</technology>
  </technology_stack>

  <core_capabilities>
    <capability>Accessible UI components following WAI-ARIA standards via React Aria</capability>
    <capability>Async-aware rendering with Slot.bind(asyncState) for dynamic content states</capability>
    <capability>Advanced gesture support including drag, long press, and physics-based interactions via useGesture hook</capability>
    <capability>Integrated tooltip system with useTooltip hook on all interactive elements</capability>
    <capability>Screen reader announcements through AsyncAnnouncer for dynamic content changes</capability>
    <capability>Compound component patterns using Object.assign for intuitive component composition</capability>
    <capability>CSS variable-based theming with runtime utilities (readCssVar, readCssMs, readCssPx)</capability>
    <capability>Data attribute-driven styling (data-slot, data-color, data-size, data-async-state)</capability>
    <capability>Strict TypeScript typing with required color and size props (no defaults)</capability>
    <capability>Tailwind CSS class merging via cn() utility for flexible styling</capability>
  </core_capabilities>

  <implemented_features>
    <feature>
      <name>Core Infrastructure</name>
      <description>Foundational utilities and hooks in core/ directory</description>
      <components>
        <component>core/utils.ts - Slot.bind(asyncState) for async rendering, cn() for Tailwind merge, composeTailwindRenderProps for className composition</component>
        <component>core/gesture.ts - useGesture() hook with drag, longPress, and physics support</component>
        <component>core/floating.tsx - useTooltip() hook for tooltip integration</component>
        <component>core/announce.tsx - AsyncAnnouncer for screen reader accessibility</component>
        <component>core/focus.tsx - Focus management utilities</component>
      </components>
    </feature>
    <feature>
      <name>Runtime Package</name>
      <description>CSS variable runtime utilities in packages/runtime</description>
      <components>
        <component>readCssVar() - Read CSS custom property values</component>
        <component>readCssMs() - Parse CSS time values in milliseconds</component>
        <component>readCssPx() - Parse CSS length values in pixels</component>
      </components>
    </feature>
    <feature>
      <name>Action Components</name>
      <description>Interactive action components in actions/ directory</description>
      <components>
        <component>Button - Standard and toggle modes with Button.Group compound pattern</component>
        <component>Switch - Toggle switch with track/thumb styling</component>
        <component>Checkbox - Single checkbox with indeterminate state support</component>
        <component>CheckboxGroup - Grouped checkboxes with validation</component>
      </components>
    </feature>
    <feature>
      <name>Input Components</name>
      <description>Form input components in inputs/ directory</description>
      <components>
        <component>TextField - Single-line text input with label, description, validation, prefix/suffix icons</component>
        <component>SearchField - Search input with clear button and search icon</component>
        <component>NumberField - Numeric input with increment/decrement controls</component>
        <component>Radio - RadioGroup with Radio items, supports card and segmented modes</component>
        <component>Select - Dropdown selection component with popover</component>
      </components>
    </feature>
    <feature>
      <name>Navigation Components</name>
      <description>Navigation and menu components in navigation/ directory</description>
      <components>
        <component>Accordion - Expandable/collapsible content panels</component>
        <component>Link - Text and button-styled link with external link detection</component>
        <component>Menu - Menu.Item, Menu.Section, Menu.Separator with submenu support</component>
        <component>Tabs - Tabbed navigation and content display</component>
      </components>
    </feature>
    <feature>
      <name>Overlay Components</name>
      <description>Modal and overlay components in overlays/ directory</description>
      <components>
        <component>Dialog - Dialog.Header, Dialog.Body, Dialog.Footer with useDialog hook</component>
      </components>
    </feature>
    <feature>
      <name>Picker Components</name>
      <description>File and media picker components in pickers/ directory</description>
      <components>
        <component>FileUpload - File selection and upload interface</component>
        <component>FilePreview - File preview display component</component>
      </components>
    </feature>
  </implemented_features>

  <development_guidelines>
    <guideline>All components must define a frozen B constant using Object.freeze({ slot: {...}, cssVars: {...} })</guideline>
    <guideline>Use Slot.bind(asyncState) for async-aware icon and content slots in all components</guideline>
    <guideline>Color and size props are required on all components and must never have default values</guideline>
    <guideline>Use compound component pattern with Object.assign(Root, { Item, Section }) for complex components</guideline>
    <guideline>Apply useTooltip(tooltip) hook on every interactive element for accessibility</guideline>
    <guideline>Use useGesture hook for components requiring drag, slider, or gesture interactions</guideline>
    <guideline>All components must use data-* attributes: data-slot, data-color, data-size, data-async-state</guideline>
    <guideline>CSS variables must follow --component-property naming convention</guideline>
    <guideline>TypeScript strict mode must be enabled for all code</guideline>
    <guideline>Use cn() utility from core/utils.ts for merging Tailwind CSS classes</guideline>
    <guideline>Never create Modal or AlertDialog components (use Dialog with appropriate roles)</guideline>
    <guideline>Never create polymorphic factory utilities (use Object.assign compound pattern)</guideline>
    <guideline>Theme tokens and providers belong in packages/theme, not in components</guideline>
    <guideline>Leverage existing CSS variable system from runtime package</guideline>
    <guideline>Derive types from RAC using Omit pattern: type XProps = Omit&lt;RACXProps, 'children'&gt; &amp; {...}</guideline>
    <guideline>Use composeTailwindRenderProps(className, B.slot.x) for RAC className composition</guideline>
    <guideline>Use useMergeRefs from @floating-ui/react to combine multiple refs</guideline>
    <guideline>Add AsyncAnnouncer component after main render for screen reader announcements</guideline>
    <guideline>Follow file sections: TYPES → CONSTANTS → SUB-COMPONENTS → ENTRY_POINT → EXPORT</guideline>
    <guideline>Export pattern: named component export first, then type exports on separate line</guideline>
    <guideline>Import runtime utilities from @parametric-portal/runtime/runtime - never hand-roll</guideline>
  </development_guidelines>

  <implementation_roadmap>
    <phase>
      <name>Phase 1 - Field Enhancements and Slider</name>
      <description>Enhance existing fields, add slider component</description>
      <components>
        <component>text-field.tsx enhancement - Add multiline prop to switch Input to TextArea element</component>
        <component>select.tsx enhancement - Add searchable prop for ComboBox filtering mode</component>
        <component>slider.tsx (new) - Range slider with useGesture for drag, supports single and range values</component>
      </components>
    </phase>
    <phase>
      <name>Phase 2 - Color Components</name>
      <description>Build color selection as single compound component file</description>
      <components>
        <component>color-picker.tsx (new) - ColorPicker compound with Color.Area, Color.Slider, Color.Field, Color.Swatch, Color.SwatchPicker, Color.Wheel subcomponents</component>
      </components>
    </phase>
    <phase>
      <name>Phase 3 - DateTime Components</name>
      <description>Build date/time as three logical groupings by interaction pattern</description>
      <components>
        <component>date-time-field.tsx (new) - DateField + TimeField segmented keyboard inputs in one file</component>
        <component>calendar.tsx (new) - Calendar + RangeCalendar visual grid selection in one file</component>
        <component>date-picker.tsx (new) - DatePicker + DateRangePicker overlay components in one file</component>
      </components>
    </phase>
    <phase>
      <name>Phase 4 - Advanced Collections</name>
      <description>Build complex data display components</description>
      <components>
        <component>table.tsx (new) - Table with sorting, selection, column resize, row actions</component>
        <component>tree.tsx (new) - Tree hierarchical view with expand/collapse and selection</component>
        <component>grid-list.tsx (new) - GridList for grid-based item selection with keyboard nav</component>
        <component>tag-group.tsx (new) - TagGroup for tag display with removal and keyboard navigation</component>
      </components>
    </phase>
    <phase>
      <name>Phase 5 - Sheet Overlay</name>
      <description>Build edge-positioned drawer component (custom, not RAC)</description>
      <components>
        <component>sheet.tsx (new) - Edge-positioned drawer/panel sliding from top, right, bottom, left with gesture dismiss</component>
      </components>
    </phase>
    <phase>
      <name>Phase 6 - Navigation and Feedback</name>
      <description>Build navigation aids and progress indicators</description>
      <components>
        <component>breadcrumbs.tsx (new) - Breadcrumbs navigation trail with overflow handling</component>
        <component>toolbar.tsx (new) - Toolbar container for grouped action controls</component>
        <component>progress.tsx (new) - ProgressBar + Meter in one file (both are progress indicators)</component>
      </components>
    </phase>
  </implementation_roadmap>

  <additional_requirements>
    <requirement>All components must be tested for keyboard navigation and screen reader compatibility</requirement>
    <requirement>Components must support both controlled and uncontrolled patterns where applicable</requirement>
    <requirement>All interactive components must provide visual focus indicators</requirement>
    <requirement>Components must handle loading, error, and empty states via async-aware slots</requirement>
    <requirement>Documentation must include accessibility considerations and ARIA patterns used</requirement>
    <requirement>Each component must export TypeScript types for props and compound subcomponents</requirement>
    <requirement>Components must be tree-shakeable for optimal bundle size</requirement>
    <requirement>All gesture-based interactions must include fallback keyboard controls</requirement>
  </additional_requirements>
</project_specification>