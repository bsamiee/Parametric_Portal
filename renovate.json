{
    "$schema": "https://docs.renovatebot.com/renovate-schema.json",
    "automergeStrategy": "squash",
    "automergeType": "pr",
    "dependencyDashboard": true,
    "dependencyDashboardTitle": "Dependency Dashboard",
    "extends": [
        "config:recommended",
        "schedule:weekly",
        ":pinAllExceptPeerDependencies",
        "helpers:pinGitHubActionDigests"
    ],
    "labels": ["dependencies"],
    "lockFileMaintenance": {
        "enabled": true,
        "schedule": ["before 4am on monday"]
    },
    "osvVulnerabilityAlerts": true,
    "packageRules": [
        {
            "automerge": true,
            "description": "Automerge patch updates",
            "matchUpdateTypes": ["patch"]
        },
        {
            "automerge": true,
            "description": "Automerge minor updates for stable deps",
            "matchCurrentVersion": "!/^0/",
            "matchUpdateTypes": ["minor"]
        },
        {
            "automerge": true,
            "description": "Group type definitions",
            "excludePackagePatterns": ["^@types/react", "^@types/react-dom"],
            "groupName": "types",
            "matchPackageNames": ["@types/**"]
        },
        {
            "automerge": true,
            "description": "Group GitHub Actions",
            "groupName": "github-actions",
            "labels": ["dependencies", "ci"],
            "matchManagers": ["github-actions"]
        },
        {
            "automerge": false,
            "description": "Major updates require manual review",
            "labels": ["dependencies", "breaking"],
            "matchUpdateTypes": ["major"]
        },
        {
            "automerge": false,
            "description": "TypeScript nightly - manual review",
            "labels": ["dependencies", "typescript", "breaking"],
            "matchCurrentVersion": "/dev/",
            "matchPackageNames": ["typescript"]
        },
        {
            "automerge": true,
            "description": "Group React ecosystem (stable releases)",
            "groupName": "react-ecosystem",
            "matchCurrentVersion": "!/canary|beta|rc/",
            "matchPackageNames": ["react", "react-dom", "@types/react", "@types/react-dom"],
            "matchUpdateTypes": ["minor", "patch"]
        },
        {
            "automerge": false,
            "description": "React canary - manual review",
            "groupName": "react-canary",
            "labels": ["dependencies", "react", "breaking"],
            "matchCurrentVersion": "/canary|beta|rc/",
            "matchPackageNames": ["react", "react-dom", "@types/react", "@types/react-dom"]
        },
        {
            "automerge": false,
            "description": "Nx canary - manual review",
            "groupName": "nx-canary",
            "labels": ["dependencies", "nx", "breaking"],
            "matchCurrentVersion": "/canary/",
            "matchPackageNames": ["nx", "@nx/**"]
        },
        {
            "automerge": false,
            "description": "Biome - manual review for linting changes",
            "labels": ["dependencies", "tooling"],
            "matchPackageNames": ["@biomejs/biome"]
        },
        {
            "automerge": true,
            "description": "Group Effect ecosystem",
            "groupName": "effect-ecosystem",
            "labels": ["dependencies", "effect"],
            "matchPackageNames": ["effect", "@effect/**"],
            "matchUpdateTypes": ["minor", "patch"],
            "schedule": ["before 6am on Monday"]
        },
        {
            "automerge": true,
            "description": "Group Vite ecosystem",
            "groupName": "vite-ecosystem",
            "labels": ["dependencies", "vite"],
            "matchPackageNames": ["vite", "vitest", "@vitejs/**", "@vitest/**"],
            "matchUpdateTypes": ["minor", "patch"]
        },
        {
            "description": "Group TanStack",
            "groupName": "tanstack",
            "labels": ["dependencies", "tanstack"],
            "matchPackageNames": ["@tanstack/**"]
        },
        {
            "description": "Group Radix UI",
            "groupName": "radix-ui",
            "labels": ["dependencies", "ui"],
            "matchPackageNames": ["@radix-ui/**"]
        },
        {
            "description": "Group Tailwind + styling",
            "groupName": "styling",
            "labels": ["dependencies", "styling"],
            "matchPackageNames": ["tailwindcss", "@tailwindcss/**", "lightningcss"]
        }
    ],
    "platformAutomerge": true,
    "postUpdateOptions": ["pnpmDedupe"],
    "prConcurrentLimit": 10,
    "prHourlyLimit": 5,
    "timezone": "America/Los_Angeles",
    "vulnerabilityAlerts": {
        "enabled": true,
        "labels": ["security", "dependencies"]
    }
}
