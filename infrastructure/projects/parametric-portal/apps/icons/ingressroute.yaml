# --- ICONS INGRESSROUTE -------------------------------------------------------
# Domain: parametric-portal.com (+ www redirect)
# To add a new app with different domain, copy this pattern to your app folder
apiVersion: traefik.io/v1alpha1
kind: IngressRoute
metadata:
  name: icons-https
  labels:
    app.kubernetes.io/name: icons
    app.kubernetes.io/component: ingress
spec:
  entryPoints:
    - websecure
  routes:
    - match: Host(`parametric-portal.com`) || Host(`www.parametric-portal.com`)
      kind: Rule
      priority: 50
      middlewares:
        - name: icons-middleware-chain
      services:
        - kind: Service
          name: icons
          port: 8080
          passHostHeader: true
  tls:
    secretName: parametric-portal-tls
    options:
      name: default
