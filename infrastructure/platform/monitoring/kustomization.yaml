# --- MONITORING SUPPORTING RESOURCES ------------------------------------------
# Supporting resources for Grafana LGTM stack (Helm chart deployed via ArgoCD)
# The actual LGTM stack is deployed by argocd/monitoring.yaml
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: parametric-portal-monitoring-resources

namespace: monitoring

resources:
  - namespace.yaml
  - networkpolicy.yaml
  - ingressroute.yaml
  - podmonitor-argocd.yaml
  - podmonitor-api.yaml
  - podmonitor-postgres.yaml
  - prometheusrules.yaml
  - kyverno-exception.yaml
  - dashboard-cloudnativepg.yaml

labels:
  - pairs:
      app.kubernetes.io/name: monitoring
      app.kubernetes.io/component: observability
      app.kubernetes.io/part-of: parametric-suite
    includeSelectors: false
