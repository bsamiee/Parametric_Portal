# --- MONITORING SUPPORTING RESOURCES ------------------------------------------
# Supporting resources for Grafana LGTM stack (Helm chart deployed via ArgoCD)
# The actual LGTM stack is deployed by argocd/monitoring.yaml
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: parametric-portal-monitoring-resources

namespace: monitoring

resources:
  - namespace.yaml
  - networkpolicy.yaml
  - certificate-grafana.yaml
  - ingressroute.yaml
  - podmonitor-api.yaml
  - podmonitor-argocd.yaml
  - podmonitor-postgres.yaml
  - podmonitor-longhorn.yaml
  - podmonitor-minio.yaml
  - podmonitor-redis.yaml
  - podmonitor-certmanager.yaml
  - podmonitor-traefik.yaml
  - podmonitor-metricsserver.yaml
  - prometheusrules.yaml
  - kyverno-exception.yaml
  - dashboard-api.yaml
  - dashboard-argocd.yaml
  - dashboard-cloudnativepg.yaml
  - dashboard-cluster.yaml
  - dashboard-kyverno.yaml
  - dashboard-traefik.yaml

labels:
  - pairs:
      app.kubernetes.io/name: monitoring
      app.kubernetes.io/component: observability
      app.kubernetes.io/part-of: parametric-suite
    includeSelectors: false
